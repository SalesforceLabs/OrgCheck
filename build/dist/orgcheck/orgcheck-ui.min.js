var OrgCheckUI=function(e){"use strict";class a{value;label}const t={IDX:"index",SCR:"score",TXT:"text",TXTS:"texts",NUM:"numeric",PRC:"percentage",URL:"id",URLS:"ids",CHK:"boolean",DTM:"datetime",DEP:"dependencies",OBJS:"objects"};class s{label;type}class i{static create(e,a){const s={data:{}},i=e.modifier??void 0,o=e.data??{};switch(e.type){case t.TXTS:s.data.values=l(a,o.values)?.map((e=>r({data:e},i)));break;case t.OBJS:{const e=o.template??(()=>"");s.data.values=l(a,o.values)?.map((a=>r({data:e(a)},i)));break}case t.URLS:s.data.values=l(a,o.values)?.map((e=>{const a={data:{}};return Object.keys(o).filter((e=>"values"!==e)).forEach((t=>{a.data[t]=l(e,o[t])})),r(a,i)}));break;default:Object.keys(o).forEach((e=>{s.data[e]=l(a,o[e])})),r(s,i)}return s[`typeof${e.type}`]=!0,s}}const l=(e,a)=>{let t=e;return a.split(".").forEach((e=>{t&&(t=t[e])})),t},r=(e,a)=>{if(a){const t="value"in e.data?e.data.value:e.data;void 0!==a.maximumLength&&t&&"string"==typeof t&&t.length>a.maximumLength&&(e.decoration=t.substring(0,a.maximumLength)),void 0!==a.valueIfEmpty&&(null==t||"string"==typeof t&&0===t.trim().length||Array.isArray(t)&&0===t.length)&&(e.decoration=a.valueIfEmpty),!0===a.preformatted&&(e.isPreformatted=!0),void 0!==a.minimum&&void 0!==a.valueBeforeMin&&void 0!==t&&"number"==typeof t&&t<a.minimum&&(e.decoration=a.valueBeforeMin),void 0!==a.maximum&&void 0!==a.valueAfterMax&&void 0!==t&&"number"==typeof t&&t>a.maximum&&(e.decoration=a.valueAfterMax)}return e},o={DESC:"desc",ASC:"asc"};class d{static create(e,a,t,s){return a.map(((a,l)=>{const r={index:l+1,score:a.score,badFields:a.badFields,badReasonIds:a.badReasonIds,cells:e.columns.map(((e,t)=>{const r=i.create(e,a);return s(r,!!e.data&&a.badFields?.includes(e.data.value),l,t),r})),isVisible:!0};return t&&t(r,a.score>0,l),r}))}static sort(e,a,s,i){const l=i===o.ASC?1:-1,r=e.columns[s].type,d=r==t.OBJS||r==t.TXTS||r==t.URLS,n=r==t.URL?"label":"value";let c,u,m=0;return a.sort(((e,a)=>(!0===d?(c=e.cells[s].data?.values?.length||0,u=a.cells[s].data?.values?.length||0):(c=e.cells[s].data[n],u=a.cells[s].data[n]),c&&c.toUpperCase&&(c=c.toUpperCase()),u&&u.toUpperCase&&(u=u.toUpperCase()),c||0===c?u||0===u?c<u?-l:l:-l:l))).forEach((e=>{!0===e.isVisible&&(e.index=++m)}))}static filter(e,a){if(a?.length>2){const t=a.toUpperCase();let s=0;e.forEach((e=>{!0===n(e.cells,t)?(e.isVisible=!0,e.index=++s):e.isVisible=!1}))}else e.forEach(((e,a)=>{e.isVisible=!0,e.index=a+1}))}static export(e,a,t){return{header:t,columns:e.columns.map((e=>e.label)),rows:a.map((e=>e.cells?.map((a=>a.typeofindex?e.index:a.typeofscore?`${e.score} (badField=${JSON.stringify(e.badFields)}, badReasonIds=${JSON.stringify(e.badReasonIds)})`:a.typeofid?`${a.data.label} (${a.data.value})`:a.typeofids?JSON.stringify(a.data.values?.map((e=>`${e.data.label} (${e.data.value})`))):a.typeofobjects?JSON.stringify(a.data.values?.map((e=>e.data.value))):a.typeoftexts?JSON.stringify(a.data.values?.map((e=>e.data))):a.data.value?a.data.value:""))))}}static createAndExport(e,a,t){const s=()=>{},i=d.create(e,a,s,s);return d.export(e,i,t)}}const n=(e,a)=>e.findIndex((e=>Object.values(e.data).findIndex((e=>{return Array.isArray(e)?n(e,a):(t=a,String(e).toUpperCase().indexOf(t)>=0);var t}))>=0))>=0;return e.CellFactory=i,e.ColumnType=t,e.EmptyModifier=class{valueIfEmpty},e.ExportedTable=class{header;columns;rows},e.NumericMaximumModifier=class{maximum;valueAfterMax},e.NumericMinMaxModifier=class{minimum;valueBeforeMin;maximum;valueAfterMax},e.NumericMinimumModifier=class{minimum;valueBeforeMin;valueIfEmpty},e.Orientation={HORIZONTAL:"horizontal",VERTICAL:"vertical"},e.PreformattedModifier=class{preformatted;maximumLength},e.Row=class{index;score;badFields;badReasonIds;cells;isVisible},e.RowsFactory=d,e.SortOrder=o,e.Table=class{columns;orderIndex;orderSort},e.TableColumn=s,e.TableColumnWithData=class{label;type;data},e.TableColumnWithModifiers=class extends s{modifier},e.TableColumnWithOrientation=class extends s{orientation},e.TextTruncatedModifier=class{maximumLength;valueIfEmpty},e.WhereToGetData=class{value},e.WhereToGetLinkData=a,e.WhereToGetLinksData=class extends a{values},e.WhereToGetObjectsData=class{values;template},e.WhereToGetScoreData=class{value;id;name},e.WhereToGetTextsData=class{values},e}({});
