var OrgCheckUI=function(e){"use strict";class a{value;label}const t={IDX:"index",SCR:"score",TXT:"text",TXTS:"texts",NUM:"numeric",PRC:"percentage",URL:"id",URLS:"ids",CHK:"boolean",DTM:"datetime",DEP:"dependencies",OBJS:"objects"};class s{label;type}class i{static create(e,a){const s={data:{}},i=e.modifier??void 0,o=e.data??{};switch(e.type){case t.TXTS:s.data.values=r(a,o.values)?.map((e=>l({data:e},i)));break;case t.OBJS:{const e=o.template??(()=>"");s.data.values=r(a,o.values)?.map((a=>l({data:e(a)},i)));break}case t.URLS:s.data.values=r(a,o.values)?.map((e=>{const a={data:{}};return Object.keys(o).filter((e=>"values"!==e)).forEach((t=>{a.data[t]=r(e,o[t])})),l(a,i)}));break;default:Object.keys(o).forEach((e=>{s.data[e]=r(a,o[e])})),l(s,i)}return s[`typeof${e.type}`]=!0,s}}const r=(e,a)=>{let t=e;return a.split(".").forEach((e=>{t&&(t=t[e])})),t},l=(e,a)=>{if(a){const t="value"in e.data?e.data.value:e.data;void 0!==a.maximumLength&&void 0!==t&&"string"==typeof t&&t.length>a.maximumLength&&(e.decoration=t.substring(0,a.maximumLength)),void 0!==a.valueIfEmpty&&(void 0===t||void 0!==t&&"string"==typeof t&&0===t.trim().length||void 0!==t&&Array.isArray(t)&&0===t.length)&&(e.decoration=a.valueIfEmpty),!0===a.preformatted&&(e.isPreformatted=!0),void 0!==a.minimum&&void 0!==a.valueBeforeMin&&void 0!==t&&"number"==typeof t&&t<a.minimum&&(e.decoration=a.valueBeforeMin),void 0!==a.maximum&&void 0!==a.valueAfterMax&&void 0!==t&&"number"==typeof t&&t>a.maximum&&(e.decoration=a.valueAfterMax)}return e},o={DESC:"desc",ASC:"asc"};const n=(e,a)=>e.findIndex((e=>Object.values(e.data).findIndex((e=>{return Array.isArray(e)?n(e,a):(t=a,String(e).toUpperCase().indexOf(t)>=0);var t}))>=0))>=0;return e.CellFactory=i,e.ColumnType=t,e.EmptyModifier=class{valueIfEmpty},e.NumericMaximumModifier=class{maximum;valueAfterMax},e.NumericMinMaxModifier=class{minimum;valueBeforeMin;maximum;valueAfterMax},e.NumericMinimumModifier=class{minimum;valueBeforeMin;valueIfEmpty},e.Orientation={HORIZONTAL:"horizontal",VERTICAL:"vertical"},e.PreformattedModifier=class{preformatted;maximumLength},e.Row=class{index;score;badFields;badReasonIds;cells;isVisible},e.RowsFactory=class{static create(e,a,t,s){return a.map(((a,r)=>{const l={index:r+1,score:a.score,badFields:a.badFields,badReasonIds:a.badReasonIds,cells:e.columns.map(((e,t)=>{const l=i.create(e,a);return l.index=`${r}.${t}`,s(l,!!e.data&&a.badFields?.includes(e.data.value)),l})),isVisible:!0};return t&&t(l,a.score>0),l}))}static sort(e,a,s,i){const r=i===o.ASC?1:-1,l=e.columns[s].type,n=l==t.OBJS||l==t.TXTS||l==t.URLS,d=l==t.URL?"label":"value";let c,m,u=0;return a.sort(((e,a)=>(!0===n?(c=e.cells[s].data?.values?.length||0,m=a.cells[s].data?.values?.length||0):(c=e.cells[s].data[d],m=a.cells[s].data[d]),c&&c.toUpperCase&&(c=c.toUpperCase()),m&&m.toUpperCase&&(m=m.toUpperCase()),c||0===c?m||0===m?c<m?-r:r:-r:r))).forEach((e=>{!0===e.isVisible&&(e.index=++u)}))}static filter(e,a){if(a?.length>2){const t=a.toUpperCase();let s=0;e.forEach((e=>{!0===n(e.cells,t)?(e.isVisible=!0,e.index=++s):e.isVisible=!1}))}else e.forEach(((e,a)=>{e.isVisible=!0,e.index=a+1}))}},e.SortOrder=o,e.Table=class{columns;orderIndex;orderSort},e.TableColumn=s,e.TableColumnWithData=class{label;type;data},e.TableColumnWithModifiers=class extends s{modifier},e.TableColumnWithOrientation=class extends s{orientation},e.TextTruncatedModifier=class{maximumLength;valueIfEmpty},e.WhereToGetData=class{value},e.WhereToGetLinkData=a,e.WhereToGetLinksData=class extends a{values},e.WhereToGetObjectsData=class{values;template},e.WhereToGetScoreData=class{value;id;name},e.WhereToGetTextsData=class{values},e}({});
