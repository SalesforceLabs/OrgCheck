<template>
    <div style="padding-bottom: 12px;">
        <lightning-layout>
            <lightning-layout-item padding="around-small">
                <div class="slds-media" tabindex="0">
                    <div class="slds-media__figure">
                        <object data={logoURL} type="image/svg+xml" style="width: 4rem;"><img src={logoURL} width="4rem" /></object>
                    </div>
                    <div class="slds-media__body">
                        <div class="slds-page-header__name">
                            <div class="slds-page-header__name-title">
                                <h1><span class="slds-page-header__title slds-truncate">Welcome in Org Check ({orgCheckVersion})</span></h1>
                                Monitor your org seamlessly<br />
                            </div>
                        </div>
                    </div>
                </div>
            </lightning-layout-item>
            <lightning-layout-item padding="around-small" alignment-bump="left">
                <!-- Actions -->
                <lightning-button label="Export" title="Export" icon-name="utility:share_mobile" class="slds-var-m-left_x-small"></lightning-button>
                <lightning-button label="Refresh" title="Refresh" icon-name="utility:refresh" class="slds-var-m-left_x-small"></lightning-button>
                <!-- Separator -->
                <lightning-icon icon-name="utility:threedots_vertical" alternative-text="separator" title="separator" class="slds-var-m-left_x-small"></lightning-icon>
                <!-- Org information -->
                <div class="slds-var-m-left_x-small" style="text-align: center; display: inline-table; vertical-align: middle;">
                    <lightning-badge label={orgName}></lightning-badge>
                    <br />
                    <lightning-badge label={orgType} class={themeForOrgType}></lightning-badge>
                    &nbsp;
                    <lightning-badge label={orgLimit} class={themeForOrgLimit}></lightning-badge>
                </div>    
            </lightning-layout-item>
        </lightning-layout>
        <c-orgcheck-global-filters onvalidatechange={handleFiltersValidated}></c-orgcheck-global-filters>
        <c-orgcheck-spinner></c-orgcheck-spinner>
    </div>
    <lightning-tabset variant="scoped">
        <lightning-tab label="Home" onactive={handleTabActivation}>
            <lightning-tabset>
                <lightning-tab value="welcome" label="Welcome!" onactive={handleSubTabActivation}>
                    <c-orgcheck-welcome class="orgcheck-subTabContent" onload={handleSubTabContentLoaded}></c-orgcheck-welcome>
                </lightning-tab>
                <lightning-tab value="cache-manager" label="Metadata Cache" onactive={handleSubTabActivation}>
                    <c-orgcheck-cache-manager class="orgcheck-subTabContent" onload={handleSubTabContentLoaded} onremovecache={handleRemoveCache} cache-manager-data={cacheManagerData}></c-orgcheck-cache-manager>
                </lightning-tab>
            </lightning-tabset>
        </lightning-tab>
        <lightning-tab label="âš½ Objects" onactive={handleTabActivation}>
            <lightning-tabset>
                <lightning-tab value="object-information" label="Object Documentation" onactive={handleSubTabActivation}>
                    <c-orgcheck-object-information class="orgcheck-subTabContent" onload={handleSubTabContentLoaded} object-information-data={objectInformationData}></c-orgcheck-object-information>
                </lightning-tab>
                <lightning-tab value="objects-owd" label="Org Wide Default" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no org wide default to show."
                        show-search
                        show-statistics
                        show-row-number-column
                        is-sticky-headers
                        is-infinite-scrolling
                        infinite-scrolling-initial-nb-rows=200
                        infinite-scrolling-additional-nb-rows=100
                        columns={objectsOWDTableColumns}
                        rows={objectsOWDTableData}></c-orgcheck-extended-datatable>
                </lightning-tab>
            </lightning-tabset>
        </lightning-tab>
        <lightning-tab label="ðŸ¥• Custom Fields" onactive={handleTabActivation}>
            <lightning-tabset>
                <lightning-tab value="custom-fields" label="Custom Fields" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no custom field to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        is-sticky-headers
                        is-infinite-scrolling
                        infinite-scrolling-initial-nb-rows=200
                        infinite-scrolling-additional-nb-rows=100
                        columns={customFieldsTableColumns}
                        rows={customFieldsTableData}></c-orgcheck-extended-datatable>
                </lightning-tab>
            </lightning-tabset>
        </lightning-tab>
        <lightning-tab label="ðŸ§” Users" onactive={handleTabActivation}>
            <lightning-tabset>
                <lightning-tab value="users" label="Users" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no active user to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        is-sticky-headers
                        is-infinite-scrolling
                        infinite-scrolling-initial-nb-rows=200
                        infinite-scrolling-additional-nb-rows=100
                        columns={usersTableColumns}
                        rows={usersTableData}></c-orgcheck-extended-datatable>            
                </lightning-tab>
            </lightning-tabset>
        </lightning-tab>
        <lightning-tab label="ðŸ‘® Profiles and Permission Sets" onactive={handleTabActivation}>
            <lightning-tabset>
                <lightning-tab value="profiles" label="Profiles" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no profile to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        is-sticky-headers
                        is-infinite-scrolling
                        infinite-scrolling-initial-nb-rows=200
                        infinite-scrolling-additional-nb-rows=100
                        columns={profilesTableColumns}
                        rows={profilesTableData}></c-orgcheck-extended-datatable>
                </lightning-tab>
                <lightning-tab value="permission-sets" label="Permission Sets" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no permission to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        is-sticky-headers
                        is-infinite-scrolling
                        infinite-scrolling-initial-nb-rows=200
                        infinite-scrolling-additional-nb-rows=100
                        columns={permissionSetsTableColumns}
                        rows={permissionSetsTableData} ></c-orgcheck-extended-datatable>
                </lightning-tab>
            </lightning-tabset>
        </lightning-tab>
        <lightning-tab label="ðŸ‡ Roles" onactive={handleTabActivation}>
            <lightning-tabset>
                <lightning-tab value="roles-explorer" label="Role Explorer" onactive={handleSubTabActivation}>
                    <c-orgcheck-graphics 
                        name="Role Hierarchy" 
                        box-color-decorator={roleBoxColorsDecorator}
                        box-inner-html-decorator={roleBoxInnerHtmlDecorator}
                        source={rolesTree}></c-orgcheck-graphics>
                </lightning-tab>
                <lightning-tab value="roles-listing" label="Role Listing" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no role to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        is-sticky-headers
                        is-infinite-scrolling
                        infinite-scrolling-initial-nb-rows=200
                        infinite-scrolling-additional-nb-rows=100
                        columns={rolesTableColumns}
                        rows={rolesTableData} ></c-orgcheck-extended-datatable>
                </lightning-tab>
            </lightning-tabset>
        </lightning-tab>
        <lightning-tab label="ðŸŒ¶ï¸ Public Groups and Queues" onactive={handleTabActivation}>
            <lightning-tabset>
                <lightning-tab value="public-groups" label="Public Groups" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no public group to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        is-sticky-headers
                        is-infinite-scrolling
                        infinite-scrolling-initial-nb-rows=200
                        infinite-scrolling-additional-nb-rows=100
                        columns={publicGroupsTableColumns}
                        rows={publicGroupsTableData} ></c-orgcheck-extended-datatable>
                </lightning-tab>
                <lightning-tab value="queues" label="Queues" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no queue to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        is-sticky-headers
                        is-infinite-scrolling
                        infinite-scrolling-initial-nb-rows=200
                        infinite-scrolling-additional-nb-rows=100
                        columns={queuesTableColumns}
                        rows={queuesTableData} ></c-orgcheck-extended-datatable>            
                </lightning-tab>
            </lightning-tabset>
        </lightning-tab>
        <lightning-tab label="ðŸ¤– Automations" onactive={handleTabActivation}>
            <lightning-tabset>
                <lightning-tab value="flows" label="Flows" onactive={handleSubTabActivation}>
                </lightning-tab>
                <lightning-tab value="process-builders" label="Process Builders" onactive={handleSubTabActivation}>
                </lightning-tab>
                <lightning-tab value="workflows" label="Workflows" onactive={handleSubTabActivation}>
                </lightning-tab>
            </lightning-tabset>
        </lightning-tab>
        <lightning-tab label="ðŸŽ Custom Labels" onactive={handleTabActivation}>
            <lightning-tabset>
                <lightning-tab value="custom-labels" label="Custom Labels" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no custom label to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        is-sticky-headers
                        is-infinite-scrolling
                        infinite-scrolling-initial-nb-rows=200
                        infinite-scrolling-additional-nb-rows=100
                        columns={customLabelsTableColumns}
                        rows={customLabelsTableData} ></c-orgcheck-extended-datatable>
                </lightning-tab>
            </lightning-tabset>
        </lightning-tab>
        <lightning-tab label="ðŸ¥ Visual Components" onactive={handleTabActivation}>
            <lightning-tabset>
                <lightning-tab value="visual-force-pages" label="Visual Force Pages" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no visual force page to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        is-sticky-headers
                        is-infinite-scrolling
                        infinite-scrolling-initial-nb-rows=200
                        infinite-scrolling-additional-nb-rows=100
                        columns={visualForcePagesTableColumns}
                        rows={visualForcePagesTableData} ></c-orgcheck-extended-datatable>
                </lightning-tab>
                <lightning-tab value="visual-force-components" label="Visual Force Components" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no visual force component to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        is-sticky-headers
                        is-infinite-scrolling
                        infinite-scrolling-initial-nb-rows=200
                        infinite-scrolling-additional-nb-rows=100
                        columns={visualForceComponentsTableColumns}
                        rows={visualForceComponentsTableData} ></c-orgcheck-extended-datatable>
                </lightning-tab>
                <lightning-tab value="lightning-pages" label="Lightning Pages" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no Lightning Page to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        is-sticky-headers
                        is-infinite-scrolling
                        infinite-scrolling-initial-nb-rows=200
                        infinite-scrolling-additional-nb-rows=100
                        columns={lightningPagesTableColumns}
                        rows={lightningPagesTableData} ></c-orgcheck-extended-datatable>
                </lightning-tab>
                <lightning-tab value="lightning-aura-components" label="Lightning Aura Components" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no Lightning Aura Component to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        is-sticky-headers
                        is-infinite-scrolling
                        infinite-scrolling-initial-nb-rows=200
                        infinite-scrolling-additional-nb-rows=100
                        columns={auraComponentsTableColumns}
                        rows={auraComponentsTableData} ></c-orgcheck-extended-datatable>            
                </lightning-tab>
                <lightning-tab value="lightning-web-components" label="Lightning Web Components" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no Lightning Web Component to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        is-sticky-headers
                        is-infinite-scrolling
                        infinite-scrolling-initial-nb-rows=200
                        infinite-scrolling-additional-nb-rows=100
                        columns={lightningWebComponentsTableColumns}
                        rows={lightningWebComponentsTableData} ></c-orgcheck-extended-datatable>            
                </lightning-tab>
            </lightning-tabset>
        </lightning-tab>
        <lightning-tab label="ðŸ”¥ Apex" onactive={handleTabActivation}>
            <lightning-tabset>
                <lightning-tab value="apex-classes" label="Classes" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no Apex Class to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        is-sticky-headers
                        is-infinite-scrolling
                        infinite-scrolling-initial-nb-rows=200
                        infinite-scrolling-additional-nb-rows=100
                        columns={apexClassesTableColumns}
                        rows={apexClassesTableData} ></c-orgcheck-extended-datatable>            
                </lightning-tab>
                <lightning-tab value="apex-recompilation-needed" label="Recompilation needed" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no Apex Uncopmiled Class to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        is-sticky-headers
                        is-infinite-scrolling
                        infinite-scrolling-initial-nb-rows=200
                        infinite-scrolling-additional-nb-rows=100
                        columns={apexUncompiledTableColumns}
                        rows={apexUncompiledTableData} ></c-orgcheck-extended-datatable>            
                </lightning-tab>
                <lightning-tab value="apex-triggers" label="Triggers" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no Apex Trigger to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        is-sticky-headers
                        is-infinite-scrolling
                        infinite-scrolling-initial-nb-rows=200
                        infinite-scrolling-additional-nb-rows=100
                        columns={apexTriggersTableColumns}
                        rows={apexTriggersTableData} ></c-orgcheck-extended-datatable>            
                </lightning-tab>
                <lightning-tab value="apex-enums" label="Enum Classes" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no Apex Enum to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        is-sticky-headers
                        is-infinite-scrolling
                        infinite-scrolling-initial-nb-rows=200
                        infinite-scrolling-additional-nb-rows=100
                        columns={apexEnumsTableColumns}
                        rows={apexEnumssTableData} ></c-orgcheck-extended-datatable>            
                </lightning-tab>
                <lightning-tab value="apex-abstract" label="Abstract Classes" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no Apex Abstract Class to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        is-sticky-headers
                        is-infinite-scrolling
                        infinite-scrolling-initial-nb-rows=200
                        infinite-scrolling-additional-nb-rows=100
                        columns={apexAbstractTableColumns}
                        rows={apexAbstractTableData} ></c-orgcheck-extended-datatable>            
                </lightning-tab>
                <lightning-tab value="apex-interfaces" label="Interfaces" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no Apex Interfaces to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        is-sticky-headers
                        is-infinite-scrolling
                        infinite-scrolling-initial-nb-rows=200
                        infinite-scrolling-additional-nb-rows=100
                        columns={apexInterfacesTableColumns}
                        rows={apexInterfacesTableData} ></c-orgcheck-extended-datatable>            
                </lightning-tab>
                <lightning-tab value="apex-unit-tests" label="Unit Tests" onactive={handleSubTabActivation}>
                    <c-orgcheck-extended-datatable
                        empty-message="There is no Apex Unit Test to show."
                        show-search
                        show-statistics
                        show-score-column
                        show-row-number-column
                        is-sticky-headers
                        is-infinite-scrolling
                        infinite-scrolling-initial-nb-rows=200
                        infinite-scrolling-additional-nb-rows=100
                        columns={apexTestsTableColumns}
                        rows={apexTestsTableData} ></c-orgcheck-extended-datatable>            
                </lightning-tab>
            </lightning-tabset>
        </lightning-tab>
        <lightning-tab label="ðŸ¤ª Analytics" onactive={handleTabActivation}>
            <lightning-tabset>
                <lightning-tab value="dashboards" label="Dashboards" onactive={handleSubTabActivation}>
                </lightning-tab>
                <lightning-tab value="reports" label="Reports" onactive={handleSubTabActivation}>
                </lightning-tab>
            </lightning-tabset>
        </lightning-tab>
        <lightning-tab label="ðŸš¢  Batches" onactive={handleTabActivation}>
            <lightning-tabset>
                <lightning-tab value="schedulable-classes-not-scheduled" label="Schedulable classes not yet scheduled" onactive={handleSubTabActivation}>
                </lightning-tab>
                <lightning-tab value="apex-jobs" label="Apex Jobs" onactive={handleSubTabActivation}>
                </lightning-tab>
                <lightning-tab value="scheduled-jobs" label="Scheduled Jobs" onactive={handleSubTabActivation}>
                </lightning-tab>
            </lightning-tabset>
        </lightning-tab>
    </lightning-tabset>
</template>